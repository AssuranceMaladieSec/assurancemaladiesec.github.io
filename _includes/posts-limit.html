{% assign posts_limit = page.posts_limit | default: 10 %}

{% if page.lang %}
  {% assign posts=site.posts | where:"lang", page.lang %}
{% else %}
  {% assign posts=site.posts | where:"lang", site.lang %}
{% endif %}

{%- for entry in posts limit: posts_limit -%}
  {% include entry.html %}
{%- endfor -%}